<p-dialog 
  [(visible)]="visible" 
  [modal]="true" 
  [style]="{ width: '90vw', maxWidth: '1200px' }"
  [header]="'Rezerwacja: ' + movieTitle"
  (onHide)="close()">

  <div class="cinema-container">
    
    <div class="cinema-screen">
      <span>EKRAN</span>
    </div>

    <div class="main-content">
      
      <div class="cinema-hall-flex">
        
        <div class="cinema-row" *ngFor="let rowData of rowsData">
          
          <div class="row-letter">{{ rowData.label }}</div>
          
          <div class="seats-row">
            <div class="seat"
                 *ngFor="let seat of rowData.seats"
                 [class.selected]="seat.selected"
                 [class.reserved]="seat.permanentlyReserved"
                 (click)="toggleSeat(seat)"
                 [pTooltip]="seat.label"
                 tooltipPosition="top">
              <span class="seat-number">{{ seat.number }}</span>
            </div>
          </div>

        </div>
      </div>

      <div class="summary-sidebar">
        <h3>Podsumowanie</h3>
        <p>Miejsc: {{ selectedSeats.length }}</p>
        
        <div class="selected-seats-list" *ngIf="selectedSeats.length > 0">
           <div class="chip" *ngFor="let s of selectedSeats">
             {{ s.label }} 
             <i class="pi pi-times" (click)="removeSeat(s)" style="cursor:pointer; margin-left:5px;"></i>
           </div>
        </div>

        <div class="summary-actions">
          <button pButton label="Anuluj" class="p-button-outlined" (click)="close()"></button>
          <button pButton label="ZatwierdÅº" class="p-button-success" 
                  [disabled]="selectedSeats.length === 0"
                  (click)="confirmReservation()">
          </button>
        </div>
      </div>

    </div>
  </div>
</p-dialog>